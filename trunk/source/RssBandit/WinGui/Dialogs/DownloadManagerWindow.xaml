<Window x:Class="RssBandit.WinGui.Dialogs.DownloadManagerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Net="clr-namespace:NewsComponents.Net;assembly=NewsComponents"
    Height="318" Width="475" Icon="/Resources/App.ico" Title="Download Manager" ShowInTaskbar="False" Topmost="True" WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <CollectionViewSource x:Key="tasks" Source="{Binding Source={x:Static Net:DownloadRegistryManager.Current}, Path=Tasks}" />
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="39" />
        </Grid.RowDefinitions>
        <ListView ItemsSource="{Binding Source={StaticResource tasks}}">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <StackPanel>
                        <TextBlock Text="{Binding Path=DownloadItem.File.LocalName}" />
                        
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        <Button Grid.Row="1" HorizontalAlignment="Left" Margin="12,6,0,6" Name="btnClear" Click="btnClear_Click">Clear Finished</Button>
    </Grid>
</Window>
